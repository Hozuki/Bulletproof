{"version":3,"sources":["danmaku/code/dco/finitetimer.ts"],"names":["FiniteTimer","FiniteTimer.constructor","FiniteTimer.___closureTimerHandler","FiniteTimer.___closureTimerCompleteHandler"],"mappings":"AAAA;;GAEG;;;;;;AAEH,sBAAoB,gDAAgD,CAAC,CAAA;AACrE,2BAAyB,sDAAsD,CAAC,CAAA;AAEhF;IAAiCA,+BAAKA;IAElCA,qBAAYA,GAAmBA,EAAEA,KAAYA,EAAEA,WAAsBA;QAAtBC,2BAAsBA,GAAtBA,eAAsBA;QACjEA,kBAAMA,KAAKA,EAAEA,WAAWA,CAACA,CAACA;QAoBtBA,aAAQA,GAAYA,IAAIA,CAACA;QACzBA,gBAAWA,GAAUA,IAAIA,CAACA;QAC1BA,uBAAkBA,GAAWA,KAAKA,CAACA;QArBvCA,EAAEA,CAACA,CAACA,OAAOA,GAAGA,KAAKA,QAAQA,CAACA,CAACA,CAACA;YAC1BA,IAAIA,CAACA,WAAWA,GAAWA,GAAGA,CAACA;YAC/BA,IAAIA,CAACA,QAAQA,GAAGA,IAAIA,QAAQA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA;YAC/CA,IAAIA,CAACA,kBAAkBA,GAAGA,KAAKA,CAACA;QACpCA,CAACA;QAACA,IAAIA,CAACA,CAACA;YACJA,IAAIA,CAACA,QAAQA,GAAGA,GAAGA,CAACA;YACpBA,IAAIA,CAACA,kBAAkBA,GAAGA,IAAIA,CAACA;QACnCA,CAACA;QACDA,IAAIA,CAACA,gBAAgBA,CAACA,uBAAUA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,qBAAqBA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;QAC/EA,IAAIA,CAACA,gBAAgBA,CAACA,uBAAUA,CAACA,cAAcA,EAAEA,IAAIA,CAACA,6BAA6BA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;IACpGA,CAACA;IAESD,2CAAqBA,GAA/BA;QACIE,IAAIA,CAACA,QAAQA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;IAC7BA,CAACA;IAESF,mDAA6BA,GAAvCA;IACAG,CAACA;IAMLH,kBAACA;AAADA,CA3BA,AA2BCA,EA3BgC,aAAK,EA2BrC;AA3BY,mBAAW,cA2BvB,CAAA","file":"danmaku/code/dco/FiniteTimer.js","sourcesContent":["/**\r\n * Created by MIC on 2016/1/7.\r\n */\r\n\r\nimport {Timer} from \"../../../../lib/glantern/src/flash/utils/Timer\";\r\nimport {TimerEvent} from \"../../../../lib/glantern/src/flash/events/TimerEvent\";\r\n\r\nexport class FiniteTimer extends Timer {\r\n\r\n    constructor(obj:string|Function, delay:number, repeatCount:number = 1) {\r\n        super(delay, repeatCount);\r\n        if (typeof obj === \"string\") {\r\n            this._funcSource = <string>obj;\r\n            this._closure = new Function(this._funcSource);\r\n            this._closureIsFunction = false;\r\n        } else {\r\n            this._closure = obj;\r\n            this._closureIsFunction = true;\r\n        }\r\n        this.addEventListener(TimerEvent.TIMER, this.__closureTimerHandler.bind(this));\r\n        this.addEventListener(TimerEvent.TIMER_COMPLETE, this.__closureTimerCompleteHandler.bind(this));\r\n    }\r\n\r\n    protected __closureTimerHandler():void {\r\n        this._closure.call(null);\r\n    }\r\n\r\n    protected __closureTimerCompleteHandler():void {\r\n    }\r\n\r\n    private _closure:Function = null;\r\n    private _funcSource:string = null;\r\n    private _closureIsFunction:boolean = false;\r\n\r\n}\r\n"],"sourceRoot":"/source/"}