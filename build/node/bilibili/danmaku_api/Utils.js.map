{"version":3,"sources":["bilibili/danmaku_api/utils.ts"],"names":["Utils","Utils.constructor","Utils.hue","Utils.rgb","Utils.formatTimes","Utils.delay","Utils.interval","Utils.distance","Utils.rand"],"mappings":"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","file":"bilibili/danmaku_api/Utils.js","sourcesContent":["/**\r\n * Created by MIC on 2015/12/29.\r\n */\r\n\r\nimport {BiliBiliDamakuApiObject} from \"./BiliBiliDamakuApiObject\";\r\nimport {BiliBiliDanmakuApiContainer} from \"../BiliBiliDanmakuApiContainer\";\r\nimport {_util} from \"../../../lib/glantern/src/_util/_util\";\r\nimport {FiniteTimer} from \"../../danmaku/scripted/dco/FiniteTimer\";\r\n\r\nexport class Utils extends BiliBiliDamakuApiObject {\r\n\r\n    constructor(apiContainer:BiliBiliDanmakuApiContainer) {\r\n        super(apiContainer);\r\n        this._date = new Date();\r\n    }\r\n\r\n    hue(v:number):number {\r\n        v = v % 360;\r\n        // http://blog.sina.com.cn/s/blog_5de73d0b0101baxq.html\r\n        var lambda = v / 60 * 255;\r\n        var r = _util.limitInto(510 - lambda, 0, 255);\r\n        var g = _util.limitInto(v < 180 ? lambda : lambda - 510, 0, 255);\r\n        var b = _util.limitInto(v < 180 ? lambda - 510 : lambda, 0, 255);\r\n        return (0xff << 24) | (r << 16) | (g << 8) | b;\r\n    }\r\n\r\n    rgb(r:number, g:number, b:number):number {\r\n        r = _util.limitInto(r, 0, 255);\r\n        g = _util.limitInto(g, 0, 255);\r\n        b = _util.limitInto(b, 0, 255);\r\n        return (0xff << 24) | (r << 16) | (g << 8) | b;\r\n    }\r\n\r\n    formatTimes(time:number):string {\r\n        this._date.setTime(time * 1000);\r\n        return this._date.toLocaleString();\r\n    }\r\n\r\n    delay(source:string, delay:number):number;\r\n    delay(closure:Function, delay:number):number;\r\n\r\n    delay(obj:any, delay:number):number {\r\n        return window.setTimeout(obj, delay);\r\n    }\r\n\r\n    interval(source:string, delay:number, times:number):FiniteTimer;\r\n    interval(closure:Function, delay:number, times:number):FiniteTimer;\r\n\r\n    interval(obj:any, delay:number, times:number):FiniteTimer {\r\n        return new FiniteTimer(obj, delay, times);\r\n    }\r\n\r\n    distance(x1:number, y1:number, x2:number, y2:number):number {\r\n        return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\r\n    }\r\n\r\n    rand(min:number, max:number):number {\r\n        console.assert(min < max, \"'max' must be bigger than 'min'.\");\r\n        return Math.random() * (max - min) + min;\r\n    }\r\n\r\n    private _date:Date = null;\r\n\r\n}\r\n"],"sourceRoot":"/source/"}